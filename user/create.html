<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Create MoM | Sofbox Style</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css"
            rel="stylesheet"/>
        <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

        <script>
            tailwind.config = {
                darkMode: 'class',
                theme: {
                    extend: {
                        colors: {
                            'primary': '#50b5ff',
                            'primary-dark': '#5983fb',
                            'body-bg': '#f7f8fa',
                            'dark-body-bg': '#15181e',
                            'component-bg': '#ffffff',
                            'dark-component-bg': '#272d3b',
                            'text-primary': '#272d3b',
                            'dark-text-primary': '#e0e0e0',
                            'text-secondary': '#8a92a6',
                            'dark-text-secondary': '#a0a0a0',
                            'border-light': '#efefef',
                            'border-dark': '#3d414c'
                        }
                    }
                }
            }
        </script>
        <style>
            .text-gradient {
                background: linear-gradient(to right, #50b5ff 0%, #5983fb 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
            .bg-gradient-primary {
                background-image: linear-gradient(to right, #50b5ff 0%, #5983fb 100%);
            }
            /* Styling for WYSIWYG placeholder */
            .wysiwyg-editor {
                min-height: 250px;
            }
        </style>
    </head>
    <body class="bg-body-bg dark:bg-dark-body-bg">

        <nav
            class="fixed top-0 z-50 w-full bg-component-bg border-b border-border-light dark:bg-dark-component-bg dark:border-border-dark shadow-sm">
            <div class="px-3 py-3 lg:px-5 lg:pl-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center justify-start rtl:justify-end">
                        <button
                            data-drawer-target="logo-sidebar"
                            data-drawer-toggle="logo-sidebar"
                            aria-controls="logo-sidebar"
                            type="button"
                            class="inline-flex items-center p-2 text-sm text-text-secondary rounded-lg sm:hidden hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary/20 dark:text-dark-text-secondary dark:hover:bg-primary/20 dark:focus:ring-primary/50">
                            <span class="sr-only">Open sidebar</span>
                            <i class="fa-solid fa-bars w-6 h-6"></i>
                        </button>
                        <a href="" class="flex ms-2 md:me-24 items-center">
                            <i class="fa-solid fa-box-archive text-3xl text-gradient"></i>
                            <span
                                class="self-center text-xl font-semibold sm:text-2xl whitespace-nowrap dark:text-white ml-3">Sofbox</span>
                        </a>
                    </div>
                    <div class="flex items-center">
                        <div class="relative hidden md:block w-64 lg:w-96 mr-4">
                            <div
                                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                <i class="fa-solid fa-search text-text-secondary"></i>
                            </div>
                            <input
                                type="text"
                                id="search-navbar"
                                class="block w-full p-2 pl-10 text-sm text-text-primary border border-border-light rounded-lg bg-body-bg focus:ring-primary focus:border-primary dark:bg-dark-component-bg dark:border-border-dark dark:placeholder-dark-text-secondary dark:text-white dark:focus:ring-primary dark:focus:border-primary"
                                placeholder="Search...">
                        </div>
                        <button
                            type="button"
                            class="p-2 mr-3 text-text-secondary rounded-full hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary/20 dark:text-dark-text-secondary dark:hover:bg-primary/20 dark:focus:ring-primary/50 relative">
                            <span class="sr-only">View notifications</span>
                            <i class="fa-solid fa-bell fa-lg"></i>
                            <span class="absolute top-1 right-1 flex h-3 w-3">
                                <span
                                    class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                            </span>
                        </button>
                        <div class="flex items-center ms-3">
                            <div>
                                <button
                                    type="button"
                                    class="flex text-sm bg-gray-800 rounded-full focus:ring-4 focus:ring-primary/50"
                                    aria-expanded="false"
                                    data-dropdown-toggle="dropdown-user">
                                    <span class="sr-only">Open user menu</span>
                                    <img
                                        class="w-8 h-8 rounded-full"
                                        src="https://flowbite.com/docs/images/people/profile-picture-5.jpg"
                                        alt="user photo">
                                </button>
                            </div>
                            <div
                                class="z-50 hidden my-4 text-base list-none bg-component-bg divide-y divide-border-light rounded-md shadow-lg dark:bg-dark-component-bg dark:divide-border-dark"
                                id="dropdown-user">
                                <div class="px-4 py-3" role="none">
                                    <p class="text-sm text-text-primary dark:text-dark-text-primary" role="none">Neil Sims</p>
                                    <p
                                        class="text-sm font-medium text-text-secondary truncate dark:text-dark-text-secondary"
                                        role="none">neil.sims@flowbite.com</p>
                                </div>
                                <ul class="py-1" role="none">
                                    <li>
                                        <a
                                            href="#"
                                            class="block px-4 py-2 text-sm text-text-secondary hover:bg-primary/10"
                                            role="menuitem">Sign out</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <aside
            id="logo-sidebar"
            class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full
       bg-component-bg border-r border-border-light sm:translate-x-0
       dark:bg-dark-component-bg dark:border-border-dark"
            aria-label="Sidebar">
            <div class="h-full px-4 pb-6 overflow-y-auto flex flex-col justify-between">
                <ul class="space-y-2 font-medium">
                    <li>
                        <a
                            href="index.html"
                            class="flex items-center p-3 rounded-lg text-text-secondary dark:text-dark-text-secondary hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary group transition">
                            <i class="fa-solid fa-chart-pie w-5 h-5"></i>
                            <span class="ms-3">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a
                            href="draft.html"
                            class="flex items-center p-3 rounded-lg text-text-secondary dark:text-dark-text-secondary hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary group transition">
                            <i class="fa-solid fa-note-sticky w-5 h-5 group-hover:text-primary"></i>
                            <span class="ms-3">Draft MoM</span>
                        </a>
                    </li>
                    <li>
                        <a
                            href="#"
                            class="flex items-center p-3 rounded-lg bg-primary/20 text-primary font-semibold group">
                            <i class="fa-solid fa-notes-medical w-5 h-5 group-hover:text-primary"></i>
                            <span class="ms-3">Create MoM</span>
                        </a>
                    </li>
                    <li>
                        <a
                            href="#"
                            class="flex items-center p-3 rounded-lg text-text-secondary dark:text-dark-text-secondary hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary group transition relative">
                            <i class="fa-solid fa-bell w-5 h-5 group-hover:text-primary"></i>
                            <span class="ms-3">Reminder</span>
                            <span
                                class="absolute right-3 inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-white bg-gradient-primary rounded-full">3</span>
                        </a>
                    </li>
                    <li>
                        <a
                            href="#"
                            class="flex items-center p-3 rounded-lg text-text-secondary dark:text-dark-text-secondary hover:bg-primary/10 dark:hover:bg-primary/20 hover:text-primary group transition">
                            <i class="fa-solid fa-calendar-alt w-5 h-5 group-hover:text-primary"></i>
                            <span class="ms-3">Calendar</span>
                        </a>
                    </li>
                </ul>
                <div class="border-t border-border-light dark:border-border-dark pt-4">
                    <a
                        href="#"
                        class="flex items-center gap-5 p-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-500/20 group transition font-medium">
                        <i class="fa-solid fa-arrow-right-from-bracket w-3 h-3"></i>
                        <p>Log Out</p>
                    </a>
                </div>
            </div>
        </aside>

        <main class="p-4 sm:ml-64">
            <div class="p-4 rounded-lg mt-14">
                <div
                    id="toast"
                    class="hidden fixed top-5 right-5 z-50 flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg bg-white dark:bg-dark-component-bg border border-border-light dark:border-border-dark text-text-primary dark:text-dark-text-primary transition-all duration-500 opacity-0">
                    <!-- Icon -->
                    <div class="flex-shrink-0">
                        <i class="fa-solid fa-circle-check text-green-500 text-lg"></i>
                    </div>
                    <!-- Message -->
                    <div class="text-sm font-medium">
                        MoM berhasil disubmit!
                    </div>
                </div>
                <div
                    class="flex flex-col md:flex-row items-center justify-between p-6 md:p-8 overflow-hidden rounded-lg shadow-md bg-component-bg dark:bg-dark-component-bg border-l-4 border-primary mb-6">
                    <div class="flex items-center space-x-4">
                        <div>
                            <h1 class="text-3xl font-bold text-text-primary dark:text-dark-text-primary">
                                Create New MoM
                            </h1>
                            <p class="mt-1 text-text-secondary dark:text-dark-text-secondary">
                                Buat Minutes of Meeting baru dengan mengisi form di bawah ini.
                            </p>
                        </div>
                    </div>
                </div>

                <div
                    class="bg-component-bg dark:bg-dark-component-bg p-6 rounded-2xl shadow-lg">
                    <form action="#" class="space-y-8">

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label
                                    for="judul"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Judul Rapat</label>
                                <input
                                    type="text"
                                    id="judul"
                                    class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                    placeholder="Contoh: Rapat Progres Proyek Q3"
                                    required="required">
                            </div>
                            <div>
                                <label
                                    for="tempat"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Tempat</label>
                                <input
                                    type="text"
                                    id="tempat"
                                    class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                    placeholder="Contoh: Ruang Rapat Lt. 5 / Online"
                                    required="required">
                            </div>
                            <div>
                                <label
                                    for="pimpinan"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Pimpinan Rapat</label>
                                <input
                                    type="text"
                                    id="pimpinan"
                                    class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                    placeholder="Nama pimpinan"
                                    required="required">
                            </div>
                            <div>
                                <label
                                    for="notulen"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Notulen</label>
                                <input
                                    type="text"
                                    id="notulen"
                                    class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                    placeholder="Nama pencatat notulensi"
                                    required="required">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label
                                    for="tanggal"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Tanggal</label>
                                <div class="relative">
                                    <div
                                        class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none">
                                        <i class="fa-solid fa-calendar-days text-text-secondary"></i>
                                    </div>
                                    <input
                                        datepicker="datepicker"
                                        type="date"
                                        id="tanggal"
                                        class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full ps-10 p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                        placeholder="Pilih tanggal">
                                </div>
                            </div>
                            <div>
                                <label
                                    for="waktu_mulai"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Waktu Mulai</label>
                                <input
                                    type="time"
                                    id="waktu_mulai"
                                    class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark">
                            </div>
                            <div>
                                <label
                                    for="waktu_selesai"
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Waktu Selesai</label>
                                <input
                                    type="time"
                                    id="waktu_selesai"
                                    class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <label
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Peserta</label>
                                <div class="flex gap-2">
                                    <input
                                        type="text"
                                        id="input-peserta"
                                        class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                        placeholder="Tambahkan nama peserta...">
                                    <button
                                        type="button"
                                        id="btn-add-peserta"
                                        class="px-4 py-2 text-sm font-medium text-white bg-gradient-primary rounded-lg hover:opacity-90 focus:ring-4 focus:ring-primary/50">Add</button>
                                </div>
                                <ul id="list-peserta" class="mt-3 space-y-2"></ul>
                            </div>
                            <div>
                                <label
                                    class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">Agenda</label>
                                <div class="flex gap-2">
                                    <input
                                        type="text"
                                        id="input-agenda"
                                        class="bg-body-bg border border-border-light text-text-primary text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-dark-component-bg dark:border-border-dark"
                                        placeholder="Tambahkan agenda rapat...">
                                    <button
                                        type="button"
                                        id="btn-add-agenda"
                                        class="px-4 py-2 text-sm font-medium text-white bg-gradient-primary rounded-lg hover:opacity-90 focus:ring-4 focus:ring-primary/50">Add</button>
                                </div>
                                <ol id="list-agenda" class="mt-3 space-y-2 list-decimal list-inside"></ol>
                            </div>
                        </div>

                        <div>
                            <label
                                for="pembahasan"
                                class="block mb-2 text-sm font-medium text-text-primary dark:text-dark-text-primary">
                                Pembahasan
                            </label>
                            <!-- Quill editor container -->
                            <div
                                id="pembahasan-editor"
                                class="wysiwyg-editor bg-body-bg dark:bg-dark-component-bg border border-border-light dark:border-border-dark rounded-lg p-2.5 text-sm"></div>

                            <!-- Hidden input untuk simpan hasil (agar bisa ikut dikirim form) -->
                            <input type="hidden" name="pembahasan" id="pembahasan">
                        </div>

                        <div>
                            <label class="block mb-2 text-sm font-medium text-text-primary" for="lampiran">Lampiran (Dokumentasi/File)</label>
                            <input
                                class="block w-full text-sm text-text-primary border border-border-light rounded-lg cursor-pointer bg-body-bg focus:outline-none"
                                id="lampiran"
                                type="file"
                                multiple="multiple">
                            <p class="mt-1 text-xs text-text-secondary">PNG, JPG, PDF, DOCX (MAX. 5MB per file).</p>
                        </div>

                        <div
                            class="flex justify-end items-center gap-4 pt-4 border-t border-border-light dark:border-border-dark">
                            <button
                                type="button"
                                class="text-text-primary bg-body-bg hover:bg-border-light focus:ring-4 focus:ring-primary/20 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-dark-component-bg dark:text-dark-text-primary dark:hover:bg-dark-body-bg">
                                Save as Draft
                            </button>
                            <button
                                type="button"
                                id="btn-submit"
                                class="text-white bg-gradient-primary hover:opacity-90 focus:ring-4 focus:ring-primary/50 font-medium rounded-lg text-sm px-8 py-2.5 text-center">
                                Submit MoM
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/flowbite-datepicker/1.2.6/flowbite-datepicker.min.js"></script>
        <script>
            // Script untuk fungsionalitas tambah/hapus item
            function setupDynamicList(inputId, addButtonId, listId, isOrdered) {
                const inputElement = document.getElementById(inputId);
                const addButton = document.getElementById(addButtonId);
                const listContainer = document.getElementById(listId);

                const addItem = () => {
                    const value = inputElement
                        .value
                        .trim();
                    if (value === '') {
                        alert('Input tidak boleh kosong!');
                        return;
                    }

                    const listItem = document.createElement(
                        isOrdered
                            ? 'li'
                            : 'div'
                    );
                    listItem.className = 'flex items-center justify-between bg-body-bg dark:bg-dark-component-bg/50 p-2 ' +
                            'rounded-md text-sm';

                    const textSpan = document.createElement('span');
                    textSpan.textContent = value;
                    textSpan.className = 'text-text-primary dark:text-dark-text-primary';

                    const removeButton = document.createElement('button');
                    removeButton.type = 'button';
                    removeButton.innerHTML = '<i class="fa-solid fa-times text-red-500 hover:text-red-700"></i>';
                    removeButton.className = 'ml-4';
                    removeButton.onclick = () => {
                        listItem.remove();
                    };

                    if (isOrdered) {
                        listItem.textContent = value;
                        listItem.appendChild(removeButton);
                    } else {
                        listItem.appendChild(textSpan);
                        listItem.appendChild(removeButton);
                    }

                    listContainer.appendChild(listItem);
                    inputElement.value = '';
                    inputElement.focus();
                };

                addButton.addEventListener('click', addItem);
                inputElement.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter') {
                        event.preventDefault();
                        addItem();
                    }
                });
            }

            document.addEventListener('DOMContentLoaded', () => {
                setupDynamicList('input-peserta', 'btn-add-peserta', 'list-peserta', false);
                setupDynamicList('input-agenda', 'btn-add-agenda', 'list-agenda', true);
            });
        </script>

        <!-- Quill JS -->
        <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // Inisialisasi Quill
                const quill = new Quill('#pembahasan-editor', {
                    theme: 'snow',
                    placeholder: "Tuliskan hasil pembahasan rapat di sini...",
                    modules: {
                        toolbar: [
                            [
                                {
                                    'header': [1, 2, false]
                                }
                            ],
                            [
                                'bold', 'italic', 'underline', 'strike'
                            ],
                            [
                                {
                                    'list': 'ordered'
                                }, {
                                    'list': 'bullet'
                                }
                            ],
                            ['link'],
                            ['clean']
                        ]
                    }
                });

                // Simpan isi Quill ke input hidden agar bisa ikut submit form
                const hiddenInput = document.getElementById("pembahasan");
                const form = document.querySelector("form");

                form.addEventListener("submit", function () {
                    hiddenInput.value = quill.root.innerHTML;
                });
            });
        </script>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const btnSubmit = document.getElementById("btn-submit");
                const toast = document.getElementById("toast");

                btnSubmit.addEventListener("click", () => {
                    // Tampilkan toast
                    toast
                        .classList
                        .remove("hidden", "opacity-0");
                    toast
                        .classList
                        .add("opacity-100");

                    // Hilangkan setelah 2 detik
                    setTimeout(() => {
                        toast
                            .classList
                            .remove("opacity-100");
                        toast
                            .classList
                            .add("opacity-0");

                        // Setelah animasi hilang, sembunyikan
                        setTimeout(() => {
                            toast
                                .classList
                                .add("hidden");
                        }, 500); // sesuai duration-500
                    }, 2000);
                });
            });
        </script>

    </body>
</html>